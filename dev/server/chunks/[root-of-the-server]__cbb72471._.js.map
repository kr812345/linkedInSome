{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///home/krishna/Documents/Code/shipIt/linkedIn/lib/cloudinary.tsx"],"sourcesContent":["import { v2 as cloudinary } from 'cloudinary';\n\ncloudinary.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport default cloudinary;\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,uMAAU,CAAC,MAAM,CAAC;IACd,YAAY,QAAQ,GAAG,CAAC,qBAAqB;IAC7C,SAAS,QAAQ,GAAG,CAAC,kBAAkB;IACvC,YAAY,QAAQ,GAAG,CAAC,qBAAqB;AACjD;uCAEe,uMAAU"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/krishna/Documents/Code/shipIt/linkedIn/app/service/llm.ts"],"sourcesContent":["'use server'\n\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\n\nconst ai = new GoogleGenerativeAI(process.env.GOOGLE_API_KEY as string);\n\nasync function fileToGenerativePart(url:string, mimeType:string) {\n    const response = await fetch(url);\n    const buffer = await response.arrayBuffer();\n    return {\n      inlineData: {\n        data: Buffer.from(buffer).toString(\"base64\"),\n        mimeType\n      },\n    };\n  }\n\nasync function roster(imgUrl: string) {\n    const systemPrompt = `\n    Role: You are an expert profile reviewer who reviews profiles with a touch of roasting.\n\n    Aim: You will be provided with a screenshot of a LinkedIn Profile. Process its text, understand it, then review it, and provide feedback with a roast. Troll the user while giving good feedback, and also do some marketing for our product to improve their LinkedIn profile and make it professional.\n\n    *** If the screenshot/image is not of a LinkedIn profile, then output: error: \"Please upload a LinkedIn Profile Screenshot/Image\"\n\n    Output:\n    - Your output must be a JSON object.\n    - It should have the real industry-level niche-based feedback with a roast.\n    - It should have banner, profilePicture, bio, about, and featured sections in its feedback.\n\n    Example JSON output:\n    {\n        \"banner\": \"Your banner is more barren than my uncle's hairline. You should put up a professional banner that showcases your skills and what you do.\",\n        \"profilePicture\": \"Your profile picture looks like it was taken with a potato. Please upload a professional headshot.\",\n        \"bio\": \"Your bio is more generic than a Taylor Swift song. Spice it up with some personality and keywords related to your industry.\",\n        \"about\": \"Your about section is a snoozefest. Tell a story, showcase your accomplishments, and make it interesting to read.\",\n        \"featured\": \"Your featured section is empty. It's a great place to showcase your work, so add some projects, articles, or links to your portfolio.\"\n    }\n    `;\n\n    const model = ai.getGenerativeModel({ model: \"gemini-1.5-flash-latest\" });\n\n    const imageParts = [\n        await fileToGenerativePart(imgUrl, \"image/jpeg\"),\n      ];\n\n    const result = await model.generateContent([systemPrompt, ...imageParts]);\n    const response = await result.response;\n    const text = response.text();\n    const json = JSON.parse(text);\n    return json;\n}\n\nexport default roster;"],"names":[],"mappings":";;;;;;;;;;;;;AAIA,MAAM,KAAK,IAAI,mBAAmB,QAAQ,GAAG,CAAC,cAAc;AAE5D,eAAe,qBAAqB,GAAU,EAAE,QAAe;IAC3D,MAAM,WAAW,MAAM,MAAM;IAC7B,MAAM,SAAS,MAAM,SAAS,WAAW;IACzC,OAAO;QACL,YAAY;YACV,MAAM,OAAO,IAAI,CAAC,QAAQ,QAAQ,CAAC;YACnC;QACF;IACF;AACF;AAEF,eAAe,OAAO,MAAc;IAChC,MAAM,eAAe,CAAC;;;;;;;;;;;;;;;;;;;;IAoBtB,CAAC;IAED,MAAM,QAAQ,GAAG,kBAAkB,CAAC;QAAE,OAAO;IAA0B;IAEvE,MAAM,aAAa;QACf,MAAM,qBAAqB,QAAQ;KACpC;IAEH,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAAC;WAAiB;KAAW;IACxE,MAAM,WAAW,MAAM,OAAO,QAAQ;IACtC,MAAM,OAAO,SAAS,IAAI;IAC1B,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,OAAO;AACX;uCAEe;;;IAAA;;AAAA,mZAAA"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///home/krishna/Documents/Code/shipIt/linkedIn/app/api/upload/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport cloudinary from \"@/lib/cloudinary\";\nimport roster from \"@/app/service/llm\";\n\nexport async function POST(req: Request) {\n  try {\n    const formData = await req.formData();\n    const file = formData.get(\"file\") as File;\n\n    if (!file) {\n      return NextResponse.json({ error: \"No file uploaded\" }, { status: 400 });\n    }\n\n    if (!file.type.startsWith(\"image/\")) {\n      return NextResponse.json({ error: \"Only images are allowed\" }, { status: 400 });\n    }\n\n    const bytes = await file.arrayBuffer();\n    const buffer = Buffer.from(bytes);\n\n    const result: any = await new Promise((resolve, reject) => {\n      cloudinary.uploader.upload_stream(\n        { folder: \"linkedin-inputs\", resource_type: \"image\" },\n        (error, result) => {\n          if (error) reject(error);\n          else resolve(result);\n        }\n      ).end(buffer);\n    });\n    \n    const review = await roster(result.secure_url);\n    return NextResponse.json(review, { status: 200 });\n  } catch (err) {\n    return NextResponse.json({ error: \"Upload failed\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,QAAQ;QACnC,MAAM,OAAO,SAAS,GAAG,CAAC;QAE1B,IAAI,CAAC,MAAM;YACT,OAAO,kTAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YACnC,OAAO,kTAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,MAAM,QAAQ,MAAM,KAAK,WAAW;QACpC,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,MAAM,SAAc,MAAM,IAAI,QAAQ,CAAC,SAAS;YAC9C,+HAAU,CAAC,QAAQ,CAAC,aAAa,CAC/B;gBAAE,QAAQ;gBAAmB,eAAe;YAAQ,GACpD,CAAC,OAAO;gBACN,IAAI,OAAO,OAAO;qBACb,QAAQ;YACf,GACA,GAAG,CAAC;QACR;QAEA,MAAM,SAAS,MAAM,IAAA,kIAAM,EAAC,OAAO,UAAU;QAC7C,OAAO,kTAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAI;IACjD,EAAE,OAAO,KAAK;QACZ,OAAO,kTAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACrE;AACF"}}]
}