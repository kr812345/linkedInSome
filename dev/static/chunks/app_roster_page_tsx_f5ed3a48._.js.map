{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/krishna/Documents/Code/shipIt/linkedIn/app/roster/page.tsx"],"sourcesContent":["'use client'\nimport { useEffect, useState } from 'react';\nimport Image from 'next/image';\nimport ReactMarkdown from 'react-markdown';\nimport { RiCloseLargeLine } from 'react-icons/ri';\nimport Notify from '../helper/notify';\nimport Loader from '@/components/Loader';\nimport { motion } from 'motion/react';\nimport { toast, Toaster } from 'sonner';\n\nconst RosterPage = () => {\n  const [image, setImage] = useState<string | null>(null);\n  const [file, setFile] = useState<File | null>(null);\n  const [bannerReview, setBannerReview] = useState<string | null>(\"fkjflskdf\");\n  const [profilePicReview, setProfilePicReview] = useState<string | null>(\"sskfjadf\");\n  const [bio, setBio] = useState<string | null>(\"**heheh**fkjdldk\");\n  const [about, setAbout] = useState<string | null>(null);\n  const [featured, setFeatured] = useState<any>(null);\n  const [isDisable, setIsDisable] = useState<boolean>(false); \n  const [count, setCount] = useState<number>(0);\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n\n    if (selectedFile == null) {\n      return;\n    }\n\n    // if (selectedFile.size > 5) {\n    //   return \"Please upload image size less than 5MB\";\n    // }\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n        setImage(event.target?.result as string);\n        setFile(selectedFile);\n      };\n        reader.readAsDataURL(selectedFile);\n    }\n  ;\n\n  useEffect(()=>{\n    if (file){\n      if (count > 0) {\n        setIsDisable(true);\n      }\n    } else if (!file) {\n      setIsDisable(false);\n      setCount(0);\n    }\n  },[file, count])\n\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    const filedrop = e.dataTransfer.files[0];\n\n    if (filedrop == null) {\n      return;\n    }\n\n    setFile(filedrop);\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      setImage(event.target?.result as string);\n    };\n    reader.readAsDataURL(e.dataTransfer.files[0]);\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n  };\n\n  const handleClose = () => {\n    setImage(null);\n    setFile(null);\n  };\n  \n  const filedata = new FormData();\n  const handleRoster = async () => {\n    if (file) {\n      filedata.append('file', file);\n      // Call the roster function with the image data\n        await fetch('http://localhost:5000/api/v1/upload',{\n          method: 'POST',\n          body: filedata,\n        })\n        .then(response => response.json())\n        .then(data => {\n          console.log(data);\n          toast(data.message);\n          // setBannerReview(data.banner);\n          // setProfilePicReview(data.profilePicture);\n          // setBio(data.bio);\n          // setAbout(data.about);\n          // setFeatured(data.featured);\n    })\n    .catch(error => {\n     console.error(error);\n     toast(error.message)\n    })\n    .finally(()=>{setCount((p:number)=>p = p + 1)})\n    }\n  };\n\n  return (\n    <div className=\" h-screen p-8 pt-32 flex-1 gap-8\">\n      {/* Left Side */}\n      <div className=\"md:col-span-1 flex flex-col bg-background\">\n        <h1 className=\"text-3xl font-bold mb-4 text-text text-shadow-md text-shadow-[#ff2f00]\">LinkedIn Profile Reviewer</h1>\n        <p className=\"mb-6 text-text-secondary\">Upload your LinkedIn Profile Screenshot to get the feedback.</p>\n        {image && (\n          <div className=\"relative mb-4 flex w-fit self-center flex-col items-center\">\n            <div className='fixed px-2 py-2 hover:cursor-pointer'><RiCloseLargeLine className='' onClick={handleClose}/></div>\n            <div className=''>\n            <img src={image} alt=\"Uploaded\" className=\"max-w-full mx-auto h-120 z-0 rounded-lg\" />\n            </div>\n            <motion.button\n              animate={{}}\n              transition={{ease: \"linear\", duration: 3}}\n              onClick={handleRoster}\n              type=\"button\"\n              disabled={isDisable}\n              className={`mt-4 px-4 py-2 w-fit h-fit rounded-md bg-[#ff2f00]  p-2 ${isDisable ? 'bg-[#ff2f0099]' : 'hover:cursor-pointer hover:shadow-[0_0_10px_2px_#ff2f00]'}`}\n            >\n              Feed it to Roster\n            </motion.button>\n          </div>\n        )}\n        <div\n          className=\"flex-grow self-center border-2 border-dashed rounded-lg flex items-center justify-center text-center p-4 transition-all border-bg-elevated text-text-secondary\"\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n        >\n          <div>\n            <p className=\"mb-2\">Drag & drop an Image</p>\n            <p className=\"my-2 text-sm\">or</p>\n            <label className=\"cursor-pointer px-4 py-2 rounded-md transition-all bg-primary text-text-primary\">\n              Browse Files\n              <input\n                type=\"file\"\n                onChange={handleImageUpload}\n                className=\"hidden\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n              />\n            </label>\n          </div>\n        </div>\n      </div>\n\n\n\n      {/* Right Side */}\n      <div className=\"hidden md:col-span-2 h-full overflow-y-auto pl-8\">\n        <div className=\"p-6 rounded-lg shadow-md bg-bg-surface\">\n          <div className=\"space-y-6\">\n            {/* Banner Review */}\n            {bannerReview && <div className=\"prose border border-gray-900 rounded-lg p-4 border-bg-elevated\">\n              <ReactMarkdown>{bannerReview}</ReactMarkdown>\n            </div>}\n\n            {/* Profile Picture Review */}\n            {profilePicReview && <div className=\"prose border rounded-lg p-4 border-bg-elevated\">\n              <ReactMarkdown>{profilePicReview}</ReactMarkdown>\n            </div>}\n\n            {/* Bio */}\n            {bio && <div className=\"prose border rounded-lg p-4 border-bg-elevated\">\n              <ReactMarkdown>{bio}</ReactMarkdown>\n            </div>}\n\n            {/* About */}\n            {about && <div className=\"prose border rounded-lg p-4 border-bg-elevated\">\n              <ReactMarkdown>{about}</ReactMarkdown>\n            </div>}\n\n            {/* Featured */}\n            {featured && <div className=\"prose border rounded-lg p-4 border-bg-elevated\">\n              <h3>Featured</h3>\n              <ReactMarkdown>{featured}</ReactMarkdown>\n            </div>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RosterPage;"],"names":[],"mappings":"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"}}]
}